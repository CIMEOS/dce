!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror")):"function"==typeof define&&define.amd?define(["../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,r){function n(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function o(e,t,r){return ft=e,ht=r,t}function a(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=i(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==r&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("="==r&&e.eat(">"))return o("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return e.eat("*")?(t.tokenize=l,l(e,t)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(n(e),e.eatWhile(/[gimy]/),o("regexp","string-2")):(e.eatWhile(zt),o("operator","operator",e.current()));if("`"==r)return t.tokenize=s,s(e,t);if("#"==r)return e.skipToEnd(),o("error","error");if(zt.test(r))return e.eatWhile(zt),o("operator","operator",e.current());if(wt.test(r)){e.eatWhile(wt);var a=e.current(),c=xt.propertyIsEnumerable(a)&&xt[a];return c&&"."!=t.lastType?o(c.type,c.style,a):o("variable","variable",a)}}function i(e){return function(t,r){var n,i=!1;if(vt&&"@"==t.peek()&&t.match(jt))return r.tokenize=a,o("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||i);)i=!i&&"\\"==n;return i||(r.tokenize=a),o("string","string")}}function l(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=a;break}n="*"==r}return o("comment","comment")}function s(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=a;break}n=!n&&"\\"==r}return o("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(r>=0){for(var n=0,o=!1,a=r-1;a>=0;--a){var i=e.string.charAt(a),l=Mt.indexOf(i);if(l>=0&&3>l){if(!n){++a;break}if(0==--n)break}else if(l>=3&&6>l)++n;else if(wt.test(i))o=!0;else if(o&&!n){++a;break}}o&&!n&&(t.fatArrowAt=a)}}function d(e,t,r,n,o,a){this.indented=e,this.column=t,this.type=r,this.prev=o,this.info=a,null!=n&&(this.align=n)}function u(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(var r=n.vars;r;r=r.next)if(r.name==t)return!0}function p(e,t,r,n,o){var a=e.cc;for(qt.state=e,qt.stream=o,qt.marked=null,qt.cc=a,qt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var i=a.length?a.pop():yt?x:w;if(i(r,n)){for(;a.length&&a[a.length-1].lex;)a.pop()();return qt.marked?qt.marked:"variable"==r&&u(e,n)?"variable-2":t}}}function m(){for(var e=arguments.length-1;e>=0;e--)qt.cc.push(arguments[e])}function f(){return m.apply(null,arguments),!0}function h(e){function t(t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}var n=qt.state;if(n.context){if(qt.marked="def",t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function b(){qt.state.context={prev:qt.state.context,vars:qt.state.localVars},qt.state.localVars=Tt}function g(){qt.state.localVars=qt.state.context.vars,qt.state.context=qt.state.context.prev}function v(e,t){var r=function(){var r=qt.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var o=r.lexical;o&&")"==o.type&&o.align;o=o.prev)n=o.indented;r.lexical=new d(n,qt.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function y(){var e=qt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function k(e){function t(r){return r==e?f():";"==e?m():f(t)}return t}function w(e,t){return"var"==e?f(v("vardef",t.length),H,k(";"),y):"keyword a"==e?f(v("form"),x,w,y):"keyword b"==e?f(v("form"),w,y):"{"==e?f(v("}"),F,y):";"==e?f():"if"==e?("else"==qt.state.lexical.info&&qt.state.cc[qt.state.cc.length-1]==y&&qt.state.cc.pop()(),f(v("form"),x,w,y,J)):"function"==e?f(et):"for"==e?f(v("form"),Q,w,y):"variable"==e?f(v("stat"),K):"switch"==e?f(v("form"),x,v("}","switch"),k("{"),F,y,y):"case"==e?f(x,k(":")):"default"==e?f(k(":")):"catch"==e?f(v("form"),b,k("("),tt,k(")"),w,y,g):"module"==e?f(v("form"),b,it,g,y):"class"==e?f(v("form"),rt,y):"export"==e?f(v("form"),lt,y):"import"==e?f(v("form"),st,y):m(v("stat"),x,k(";"),y)}function x(e){return j(e,!1)}function z(e){return j(e,!0)}function j(e,t){if(qt.state.fatArrowAt==qt.stream.start){var r=t?V:I;if("("==e)return f(b,v(")"),O(N,")"),y,k("=>"),r,g);if("variable"==e)return m(b,N,k("=>"),r,g)}var n=t?T:q;return St.hasOwnProperty(e)?f(n):"function"==e?f(et,n):"keyword c"==e?f(t?S:M):"("==e?f(v(")"),M,mt,k(")"),y,n):"operator"==e||"spread"==e?f(t?z:x):"["==e?f(v("]"),ut,y,n):"{"==e?W(A,"}",null,n):"quasi"==e?m(P,n):f()}function M(e){return e.match(/[;\}\)\],]/)?m():m(x)}function S(e){return e.match(/[;\}\)\],]/)?m():m(z)}function q(e,t){return","==e?f(x):T(e,t,!1)}function T(e,t,r){var n=0==r?q:T,o=0==r?x:z;return"=>"==e?f(b,r?V:I,g):"operator"==e?/\+\+|--/.test(t)?f(n):"?"==t?f(x,k(":"),o):f(o):"quasi"==e?m(P,n):";"!=e?"("==e?W(z,")","call",n):"."==e?f(C,n):"["==e?f(v("]"),M,k("]"),y,n):void 0:void 0}function P(e,t){return"quasi"!=e?m():"${"!=t.slice(t.length-2)?f(P):f(x,E)}function E(e){return"}"==e?(qt.marked="string-2",qt.state.tokenize=s,f(P)):void 0}function I(e){return c(qt.stream,qt.state),m("{"==e?w:x)}function V(e){return c(qt.stream,qt.state),m("{"==e?w:z)}function K(e){return":"==e?f(y,w):m(q,k(";"),y)}function C(e){return"variable"==e?(qt.marked="property",f()):void 0}function A(e,t){return"variable"==e||"keyword"==qt.style?(qt.marked="property",f("get"==t||"set"==t?_:$)):"number"==e||"string"==e?(qt.marked=vt?"property":qt.style+" property",f($)):"jsonld-keyword"==e?f($):"["==e?f(x,k("]"),$):void 0}function _(e){return"variable"!=e?m($):(qt.marked="property",f(et))}function $(e){return":"==e?f(z):"("==e?m(et):void 0}function O(e,t){function r(n){if(","==n){var o=qt.state.lexical;return"call"==o.info&&(o.pos=(o.pos||0)+1),f(e,r)}return n==t?f():f(k(t))}return function(n){return n==t?f():m(e,r)}}function W(e,t,r){for(var n=3;n<arguments.length;n++)qt.cc.push(arguments[n]);return f(v(t,r),O(e,t),y)}function F(e){return"}"==e?f():m(w,F)}function L(e){return kt&&":"==e?f(U):void 0}function U(e){return"variable"==e?(qt.marked="variable-3",f()):void 0}function H(){return m(N,L,D,G)}function N(e,t){return"variable"==e?(h(t),f()):"["==e?W(N,"]"):"{"==e?W(B,"}"):void 0}function B(e,t){return"variable"!=e||qt.stream.match(/^\s*:/,!1)?("variable"==e&&(qt.marked="property"),f(k(":"),N,D)):(h(t),f(D))}function D(e,t){return"="==t?f(z):void 0}function G(e){return","==e?f(H):void 0}function J(e,t){return"keyword b"==e&&"else"==t?f(v("form","else"),w,y):void 0}function Q(e){return"("==e?f(v(")"),R,k(")"),y):void 0}function R(e){return"var"==e?f(H,k(";"),Y):";"==e?f(Y):"variable"==e?f(X):m(x,k(";"),Y)}function X(e,t){return"in"==t||"of"==t?(qt.marked="keyword",f(x)):f(q,Y)}function Y(e,t){return";"==e?f(Z):"in"==t||"of"==t?(qt.marked="keyword",f(x)):m(x,k(";"),Z)}function Z(e){")"!=e&&f(x)}function et(e,t){return"*"==t?(qt.marked="keyword",f(et)):"variable"==e?(h(t),f(et)):"("==e?f(b,v(")"),O(tt,")"),y,w,g):void 0}function tt(e){return"spread"==e?f(tt):m(N,L)}function rt(e,t){return"variable"==e?(h(t),f(nt)):void 0}function nt(e,t){return"extends"==t?f(x,nt):"{"==e?f(v("}"),ot,y):void 0}function ot(e,t){return"variable"==e||"keyword"==qt.style?(qt.marked="property","get"==t||"set"==t?f(at,et,ot):f(et,ot)):"*"==t?(qt.marked="keyword",f(ot)):";"==e?f(ot):"}"==e?f():void 0}function at(e){return"variable"!=e?m():(qt.marked="property",f())}function it(e,t){return"string"==e?f(w):"variable"==e?(h(t),f(dt)):void 0}function lt(e,t){return"*"==t?(qt.marked="keyword",f(dt,k(";"))):"default"==t?(qt.marked="keyword",f(x,k(";"))):m(w)}function st(e){return"string"==e?f():m(ct,dt)}function ct(e,t){return"{"==e?W(ct,"}"):("variable"==e&&h(t),f())}function dt(e,t){return"from"==t?(qt.marked="keyword",f(x)):void 0}function ut(e){return"]"==e?f():m(z,pt)}function pt(e){return"for"==e?m(mt,k("]")):","==e?f(O(S,"]")):m(O(z,"]"))}function mt(e){return"for"==e?f(Q,mt):"if"==e?f(x,mt):void 0}var ft,ht,bt=t.indentUnit,gt=r.statementIndent,vt=r.jsonld,yt=r.json||vt,kt=r.typescript,wt=r.wordCharacters||/[\w$\xa1-\uffff]/,xt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),o=e("operator"),a={type:"atom",style:"atom"},i={"if":e("if"),"while":t,"with":t,"else":r,"do":r,"try":r,"finally":r,"return":n,"break":n,"continue":n,"new":n,"delete":n,"throw":n,"debugger":n,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":o,"typeof":o,"instanceof":o,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":n,"export":e("export"),"import":e("import"),"extends":n};if(kt){var l={type:"variable",style:"variable-3"},s={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:l,number:l,bool:l,any:l};for(var c in s)i[c]=s[c]}return i}(),zt=/[+\-*&%=<>!?|~^]/,jt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Mt="([{}])",St={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},qt={state:null,column:null,marked:null,cc:null},Tt={name:"this",next:{name:"arguments"}};return y.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new d((e||0)-bt,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=l&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==ft?r:(t.lastType="operator"!=ft||"++"!=ht&&"--"!=ht?ft:"incdec",p(t,r,ft,ht,e))},indent:function(t,n){if(t.tokenize==l)return e.Pass;if(t.tokenize!=a)return 0;var o=n&&n.charAt(0),i=t.lexical;if(!/^\s*else\b/.test(n))for(var s=t.cc.length-1;s>=0;--s){var c=t.cc[s];if(c==y)i=i.prev;else if(c!=J)break}"stat"==i.type&&"}"==o&&(i=i.prev),gt&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var d=i.type,u=o==d;return"vardef"==d?i.indented+("operator"==t.lastType||","==t.lastType?i.info+1:0):"form"==d&&"{"==o?i.indented:"form"==d?i.indented+bt:"stat"==d?i.indented+("operator"==t.lastType||","==t.lastType?gt||bt:0):"switch"!=i.info||u||0==r.doubleIndentSwitch?i.align?i.column+(u?0:1):i.indented+(u?0:bt):i.indented+(/^(?:case|default)\b/.test(n)?bt:2*bt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:yt?null:"/*",blockCommentEnd:yt?null:"*/",lineComment:yt?null:"//",fold:"brace",helperType:yt?"json":"javascript",jsonldMode:vt,jsonMode:yt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})});